import{Q as _,n as C,_ as V,l as L}from"./index-5e60d8d5.js";import{A as y,z as w,j as N,o as n,c as p,a as f,b,m as $,t as k,R as j,x as h,ao as u,n as z}from"./multiselect-82d1182f.js";import{r as B}from"./ArrowDownTrayIcon-2acb5861.js";import{r as I}from"./PencilSquareIcon-d2491426.js";function U(){var l,m,a;const r=(l=_().props.settings)==null?void 0:l.available_locales,c=y((a=(m=_().props.auth)==null?void 0:m.user)==null?void 0:a.locale),i=r.reduce((e,d)=>({...e,[d]:""}),{});return{availableLocales:r,currentLocale:c,translatableDefaultValue:i,getLabelWithLocale:e=>`[${c.value.toUpperCase()}] ${e}`}}const D={class:"flex items-center gap-x-2"},E={class:"text-gray-500"},F={class:"ml-auto flex items-center whitespace-nowrap text-gray-900"},W={key:0},S=w({__name:"CustomPropertyInput",props:{modelValue:{},propertyName:{}},emits:["localeChanged","update:modelValue","saved"],setup(r,{emit:c}){const i=r,o=y(!1),{availableLocales:l,currentLocale:m}=U(),a=y(m),e=N({get:()=>i.modelValue,set:t=>{g("update:modelValue",t)}}),d=()=>{const t=l==null?void 0:l.findIndex(s=>s===a.value);a.value=l[t+1]??l[0]},x=()=>{o.value&&g("saved"),o.value=!o.value},g=c;return(t,s)=>(n(),p("div",{class:z(["flex w-full items-center justify-start gap-x-1 text-sm font-medium",{"py-1.5":!0}])},[f("dt",D,[typeof e.value=="object"&&e.value!==null?(n(),p("button",{key:0,onClick:d},[b(C,{locale:a.value,showLocale:!1,class:"w-4"},null,8,["locale"])])):$("",!0),f("span",E,k(t.$t(t.propertyName)),1)]),f("dd",F,[o.value?(n(),p(j,{key:1},[typeof e.value=="object"&&e.value!==null?(n(),h(u(V),{key:0,modelValue:e.value[a.value],"onUpdate:modelValue":s[0]||(s[0]=v=>e.value[a.value]=v),size:"sm","label-placement":"left",name:t.propertyName,class:"w-full"},null,8,["modelValue","name"])):(n(),h(u(V),{key:1,modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=v=>e.value=v),size:"sm","label-placement":"left",name:t.propertyName,class:"w-full"},null,8,["modelValue","name"]))],64)):(n(),p("span",W,k(typeof e.value=="object"&&e.value!==null?e.value[a.value]:e.value),1)),b(u(L),{class:"ml-2",variant:"ghost",color:"gray",size:"sm",icon:o.value?u(B):u(I),onClick:x},null,8,["icon"])])]))}});export{S as _};
